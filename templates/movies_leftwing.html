{#
  movies_leftwing.html
  Displays left wing movies. Extends base.html.
#}
{% extends 'base.html' %}
{% block content %}
<h1>Left Wing Movies</h1>
<div class="gallery-scroll">
  {% for movie in movies %}
    <div class="gallery-item">
      <a href="{{ url_for('movie_details', movie_id=movie.imdbID) }}" class="unstyled-link">
        <img src="{{ movie.Poster if movie.Poster != 'N/A' else url_for('static', filename='no_poster.png') }}" alt="{{ movie.Title }}">
        <div class="movie-title">{{ movie.Title }}
          {% if movie.avg_rating is not none %}
            {% set badge_class = 'bg-info text-dark' %}
            {% if movie.avg_rating >= 70 %}
              {% set badge_class = 'bg-danger text-light' %}
            {% elif movie.avg_rating <= 30 %}
              {% set badge_class = 'bg-primary text-light' %}
            {% elif 30 < movie.avg_rating < 70 %}
              {% set badge_class = 'bg-warning text-dark' %}
            {% endif %}
            <span class="badge {{ badge_class }} ms-1">{{ movie.avg_rating|round(1) }}</span>
          {% endif %}
        </div>
        <div class="movie-meta">
          <div class="movie-year">Year: {{ movie.Year }}</div>
          <div class="movie-director">Director: {{ movie.Director if movie.Director is defined else 'N/A' }}</div>
        </div>
      </a>
    </div>
  {% endfor %}
</div>
{% endblock %}
